(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[471],{2756:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/operator/[id]",function(){return t(5960)}])},4628:function(n,e,t){"use strict";var r=t(5893);let i=n=>{let{image:e,name:t}=n;return(0,r.jsx)("img",{src:"https://raw.githubusercontent.com/pavel8lisenkov/payment-images/main/images/".concat(e),alt:t,width:"70",height:"70"})};e.Z=i},7144:function(n,e,t){"use strict";var r=t(7297),i=t(5893),o=t(9521);function u(){let n=(0,r.Z)(["\n  font-weight: 600;\n"]);return u=function(){return n},n}let a=o.ZP.h2(u()),l=n=>(0,i.jsx)(a,{...n});e.Z=l},5960:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return G},default:function(){return K}});var r=t(5893),i=t(7294),o=t(1163),u=t(4628),a=t(7144),l=t(7297),s=t(9521);function c(){let n=(0,l.Z)(["\n    display: flex;\n    flex-direction: ",";\n    align-items: ",";\n    gap: ",";\n    justify-content: ",";\n  "]);return c=function(){return n},n}function d(){let n=(0,l.Z)(["\n  ","\n"]);return d=function(){return n},n}let p=s.ZP.div(d(),n=>{let{display:e,flexDirection:t,alignItems:r,gap:i,justifyContent:o}=n;return(0,s.iv)(c(),t||"row",r||"center",i||"20px",o||"center")}),f=n=>(0,r.jsx)(p,{...n});function h(){let n=(0,l.Z)(['\n  display: flex;\n  flex-direction: column;\n  gap: 40px;\n  align-items: center;\n  justify-content: center;\n  padding: 30px;\n  border-radius: 12px;\n  background-color: white;\n  width: 500px;\n  position: relative;\n  user-select: none;\n\n  div {\n    font-size: 18px;\n  }\n\n  input {\n    box-sizing: border-box;\n  }\n\n  input::-webkit-input-placeholder {\n    font-size: 0.9rem;\n    transform: translateY(-.15rem);\n  }\n\n  input:-moz-placeholder {\n    font-size: 0.9rem;\n    transform: translateY(-.15rem);\n  }\n\n  input:-ms-input-placeholder {\n    font-size: 0.9rem;\n    transform: translateY(-.15rem);\n  }\n\n  input[type="number"]::-webkit-outer-spin-button,\n  input[type="number"]::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n\n  input[type=\'number\'],\n  input[type="number"]:hover,\n  input[type="number"]:focus {\n    appearance: none;\n    -moz-appearance: textfield;\n  }\n\n  input[type=\'number\']::-webkit-inner-spin-button {\n    display: none;\n  }\n']);return h=function(){return n},n}let x=s.ZP.form(h()),g=n=>(0,r.jsx)(x,{...n});function b(){let n=(0,l.Z)(["\n  position: fixed;\n  padding: 20px;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0, 0, 0, 0.4);\n  transition: 0.3s;\n"]);return b=function(){return n},n}let m=s.ZP.div(b()),v=n=>(0,r.jsx)(m,{...n});function j(){let n=(0,l.Z)(["\n  position: absolute;\n  top: 15px;\n  right: 15px;\n  width: 20px;\n  height: 20px;\n  transition: ease 0.5s;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &::after,::before {\n    content: '';\n    position: absolute;\n    top: 10px;\n    display: block;\n    width: 20px;\n    height: 3px;\n    background: #000;\n  }\n\n  &::before {\n    transform: rotate(45deg);\n  }\n\n  &::after {\n    transform: rotate(-45deg);\n  }\n"]);return j=function(){return n},n}let w=s.ZP.div(j()),Z=n=>(0,r.jsx)(w,{...n});function y(){let n=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: .2s opacity ease-in-out;\n  width: 100%;\n"]);return y=function(){return n},n}let k=s.ZP.div(y()),P=n=>(0,r.jsx)(k,{...n});function _(){let n=(0,l.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  text-align: center;\n  transition: .2s ease-in-out;\n\n  &:not(:last-child) {\n    margin-bottom: 16px;\n  }\n"]);return _=function(){return n},n}let z=s.ZP.div(_()),V=n=>(0,r.jsx)(z,{...n});function N(){let n=(0,l.Z)(["\n  width: 100%;\n  height: 48px;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  background-color: #edf8ff;\n  border-radius: 8px;\n  text-align: center;\n  color: #000000;\n  font-size: 24px;\n\n  &:focus {\n    border: 1px solid #00aeef;\n    outline: none;\n  }\n"]);return N=function(){return n},n}let S=s.ZP.input(N()),E=n=>(0,r.jsx)(S,{...n}),C=n=>{let{amountValue:e,setAmountValue:t}=n,i=/\D/g,o=n=>n.replace(i,""),u=n=>{let e=n.target,r=o(e.value);r>1e3?e.value="1000":r<1&&(e.value="1"),r||(e.value=""),t(e.value)};return(0,r.jsx)(P,{children:(0,r.jsxs)(V,{children:[(0,r.jsx)("label",{htmlFor:"amount",children:"Сумма в рублях"}),(0,r.jsx)(E,{id:"amount",type:"number",placeholder:"Максимальная сумма 1000 ₽",required:!0,value:e,onInput:u})]})})},D=n=>{let{phoneValue:e,setPhoneValue:t}=n,i=/\D/g,o=n=>n.replace(i,""),u=n=>{let e=n.target,r=o(e.value),i="",u=e.selectionStart;if(!r)return e.value="";e.value.length===u&&(["7","8","9"].includes(r[0])?("9"===r[0]&&(r="7"+r),i=("8"===r[0]?"8":"+7")+" ",r.length>1&&(i+="("+r.substring(1,4)),r.length>=5&&(i+=") "+r.substring(4,7)),r.length>=8&&(i+="-"+r.substring(7,9)),r.length>=10&&(i+="-"+r.substring(9,11))):"0"!==r[0]&&(i="+"+r.substring(0,11)),e.value=i,t(e.value))},a=n=>{let e=n.target;"Backspace"===n.key&&1===o(e.value).length&&(e.value=""),t(e.value)};return(0,r.jsx)(P,{children:(0,r.jsxs)(V,{children:[(0,r.jsx)("label",{htmlFor:"phone",children:"Номер телефона"}),(0,r.jsx)(E,{id:"phone",type:"tel",placeholder:"+7 (999)-999-99-99",required:!0,pattern:"^((8|\\+[1-9])[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{10}$",value:e,onInput:u,onKeyDown:a})]})})};function T(){let n=(0,l.Z)(["\n  width: 100%;\n  padding: 13px;\n  border-radius: 8px;\n  background: #00afefd5;\n  font-size: 18px;\n  font-weight: 400;\n  color: #ffffff;\n  transition: .2s ease-in-out;\n\n  &:hover:not(:disabled) {\n    background: #00aeef;\n    -webkit-box-shadow: 0 0 5px #00aeef;\n    -moz-box-shadow: 0 0 5px #00aeef;\n    box-shadow: 0 0 5px #00aeef;\n  }\n\n  &:active:not(:disabled) {\n    transform: scale(0.96);\n  }\n\n  &:disabled {\n    background: rgba(0, 0, 0, 0.4);\n  }\n"]);return T=function(){return n},n}let F=s.ZP.button(T()),Y=n=>{let{phoneValue:e,setPhoneValue:t,amountValue:i,setAmountValue:u,setLoading:a,children:l,loading:s}=n,c=(0,o.useRouter)(),d=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.floor(Math.random()*(e-n+1))+n},p=n=>{1===n?alert("Оплата по номеру ".concat(e," на сумму ").concat(i,"₽ не прошла, попробуйте еще раз.")):2===n&&(alert("Оплата по номеру ".concat(e," на сумму ").concat(i,"₽ прошла, поздравляем!")),t(""),u(""),c.push("/"))},f=n=>{let t="7"===e[1]&&18===e.length,r="8"===e[0]&&17===e.length,o="+"===e[0]&&"7"!==e[1]&&12===e.length;i.length>0&&(t||r||o)&&(n=>{let e=new Promise(function(n,e){a(!0),setTimeout(()=>{a(!1),n()},2e3)});n.preventDefault(),e.then(()=>{setTimeout(()=>{p(d(1,2))},20)})})(n)};return(0,r.jsx)(F,{onClick:n=>f(n),disabled:s,children:l})};function q(){let n=(0,l.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return q=function(){return n},n}function A(){let n=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return A=function(){return n},n}function I(){let n=(0,l.Z)(["\n  border: 3.5px solid #f3f3f3;\n  border-top: 3.5px solid #3498db;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  animation: "," 1s infinite linear;\n"]);return I=function(){return n},n}let M=(0,s.F4)(q()),O=s.ZP.div(A()),R=s.ZP.div(I(),M),X=()=>(0,r.jsx)(O,{children:(0,r.jsx)(R,{})}),B=n=>{let{operator:e}=n,t=(0,o.useRouter)(),[l,s]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[p,h]=(0,i.useState)(!1);return(0,r.jsx)(v,{children:(0,r.jsxs)(g,{action:"",children:[(0,r.jsx)(Z,{onClick:()=>t.push("/")}),(0,r.jsxs)(f,{gap:"20px",children:[(0,r.jsx)(u.Z,{...e}),(0,r.jsx)(a.Z,{children:e.name})]}),(0,r.jsx)(D,{phoneValue:l,setPhoneValue:s}),(0,r.jsx)(C,{amountValue:c,setAmountValue:d}),(0,r.jsx)(Y,{phoneValue:l,setPhoneValue:s,amountValue:c,setAmountValue:d,setLoading:h,loading:p,children:p?(0,r.jsx)(X,{}):"Оплатить"})]})})};var G=!0,K=B}},function(n){n.O(0,[774,888,179],function(){return n(n.s=2756)}),_N_E=n.O()}]);